<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Walimatulurus Danial Adlina</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* Background PNG yang tetap statis */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('Assets/floral background.png') no-repeat center center;
            background-size: cover;
            opacity: 0.8;
            z-index: -1;
            pointer-events: none;
        }
        
        /* Fireflies animation */
        #fireflies {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .firefly {
            position: absolute;
            width: 4px;
            height: 4px;
            background-color: #ffd700;
            border-radius: 50%;
            box-shadow: 0 0 8px 2px #ffd700;
            opacity: 0;
            animation: fadeInOut 4s infinite ease-in-out;
        }
        
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            50% { opacity: 0.8; }
        }
        
        @keyframes moveFirefly {
            0% { transform: translate(0, 0); }
            25% { transform: translate(20px, -15px); }
            50% { transform: translate(-10px, 25px); }
            75% { transform: translate(15px, 10px); }
            100% { transform: translate(0, 0); }
        }
        
        body {
            background-color: #faf7f5;
            color: #5a4d41;
            overflow-x: hidden;
            height: 100vh;
            max-width: 420px;
            margin: 0 auto;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }
        
        /* Intro dan animasi pintu */
        #intro {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #faf7f5 url('Assets/floral background.png') no-repeat center center;
            background-size: cover;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            perspective: 1000px;
        }
        
        .door {
            position: absolute;
            top: 0;
            width: 50%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            transition: transform 1.5s ease-in-out;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
        }
        
        .door-left {
            left: 0;
            transform-origin: left center;
            border-right: 1px solid #d7ccc8;
        }
        
        .door-right {
            right: 0;
            transform-origin: right center;
            border-left: 1px solid #d7ccc8;
        }
        
        .door-knob {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #d7ccc8;
            border-radius: 50%;
            top: 50%;
        }
        
        .door-left .door-knob {
            right: 15px;
        }
        
        .door-right .door-knob {
            left: 15px;
        }
        
        .intro-text {
            position: absolute;
            text-align: center;
            z-index: 10;
            color: #7d6855;
            text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.8);
            animation: floatUp 8s infinite ease-in-out;
        }
        
        .intro-text h1 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            font-family:Georgia, 'Times New Roman', Times, serif;
        }
        
        .intro-text p {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .tap-image {
            position: absolute;
            bottom: 30%;
            padding: 10px 20px;
            animation: pulse 2s infinite;
        }

        .tap-image img {
            width: 90px;
            height: 90px;
            display: block;
        }
        
        /* Section gambar depan */
        #front-image-section {
            position: relative;
            width: 100%;
            text-align: center;
            padding: 0;
            margin: 0;
            z-index: 2;
        }
        
        /* Konten undangan */
        #content {
            display: none;
            padding-bottom: 70px;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        .section {
            padding: 2rem 1.5rem;
            margin: 1rem;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            text-align: center;
            backdrop-filter: blur(5px);
        }
        
        .header {
            background: #faf7f5 url('Assets/floral background.png') no-repeat center center;
            background-size: cover;
            padding: 3rem 1.5rem;
            border-radius: 0 0 20px 20px;
            margin: 0 0 2rem 0;
            text-align: center;
            position: relative;
        }
        
        .header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 0 0 20px 20px;
            z-index: -1;
        }
        
        .names {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            margin-top: 1rem;
            color: #7d6855;
            text-align: center;
        }
        
        .date {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: #9f8a77;
            text-align: center;
        }
        
        .verse {
            font-style: italic;
            margin: 1.5rem 0;
            color: #7d6855;
            font-size: 1.1rem;
            text-align: center;
        }

        .greet p {
            font-family: 'Reem Kufi', sans-serif;
            font-size: 28px;
            color: #7d6855;
            margin-bottom: 1rem;
            line-height: 1.6;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .countdown {
            margin: 1.5rem 0;
            padding: 1rem;
            background: rgba(159, 138, 119, 0.1);
            border-radius: 10px;
        }
        
        .countdown-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: #7d6855;
        }
        
        .countdown-timer {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        
        .countdown-unit {
            background: white;
            padding: 10px;
            border-radius: 8px;
            min-width: 60px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .countdown-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #7d6855;
        }
        
        .countdown-label {
            font-size: 0.8rem;
            color: #9f8a77;
        }
        
        /* Navigasi bawah */
        .nav-bottom {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            z-index: 900;
        }
        
        .nav-item {
            text-align: center;
            font-size: 0.8rem;
            color: #7d6855;
            cursor: pointer;
        }
        
        .nav-item i {
            font-size: 1.2rem;
            display: block;
            margin-bottom: 5px;
        }
        
        /* Modal popup */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            width: 90%;
            max-width: 400px;
            border-radius: 15px;
            padding: 1.5rem;
            max-height: 80vh;
            overflow-y: auto;
            text-align: center;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #7d6855;
            z-index: 1001;
        }
        
        /* Form RSVP */
        .form-group {
            margin-bottom: 1rem;
            text-align: left;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #7d6855;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #d7ccc8;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .form-group textarea {
            height: 100px;
            resize: vertical;
        }
        
        .btn {
            background: #9f8a77;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
            margin: 5px;
        }
        
        .btn:hover {
            background: #7d6855;
        }
        
        /* Bagian RSVP dan Ucapan */
        .attendance-count {
            display: flex;
            justify-content: space-around;
            margin: 1.5rem 0;
        }
        
        .count-box {
            text-align: center;
            padding: 1rem;
            border-radius: 10px;
            background: rgba(159, 138, 119, 0.1);
            width: 45%;
        }
        
        .count-number {
            font-size: 2rem;
            font-weight: bold;
            color: #7d6855;
        }
        
        .wishes-container {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 1.5rem;
            padding: 10px;
            background: rgba(159, 138, 119, 0.05);
            border-radius: 10px;
            text-align: left;
        }
        
        .wish-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .wish-name {
            font-weight: bold;
            color: #7d6855;
            margin-top: 5px;
            font-style: italic;
        }
        
        /* Scroll indicator */
        .scroll-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 800;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        /* Modal Muzik */
        #music-modal .modal-content {
            padding: 0;
            overflow: hidden;
        }
        
        .music-player {
            width: 100%;
            height: 200px;
        }
        
        .music-controls {
            padding: 15px;
            text-align: center;
        }
        
        /* YouTube Player Container */
        #youtube-player {
            width: 100%;
            height: 200px;
            background-color: #000;
        }
        
        /* Animasi */
        @keyframes floatUp {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
           50% { opacity: 0.7; }
        }
        
        .floral-divider {
            margin: 1.5rem 0;
            text-align: center;
            font-size: 1.5rem;
            color: #d7ccc8;
        }
        
        .text-center {
            text-align: center;
        }
       
        .parents{
             font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            margin-top: 1rem;
            color: #7d6855;
            text-align: center;
        }
        
        .info-box {
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(159, 138, 119, 0.05);
            border-radius: 10px;
        }
        
        .info-title {
            font-weight: bold;
            color: #7d6855;
            margin-bottom: 0.5rem;
        }

        /* Audio player styles */
        .audio-player {
            width: 100%;
            margin-top: 15px;
            background: rgba(159, 138, 119, 0.1);
            border-radius: 10px;
            padding: 10px;
        }
        
        .audio-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .audio-btn {
            background: #9f8a77;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
        }

        /* Audio icon animation */
        .audio-playing {
            animation: pulse 1s infinite;
            color: #9f8a77 !important;
        }
        
        /* Hadiah styles */
        .qr-code {
            width: 200px;
            height: 200px;
            margin: 0 auto;
            display: block;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .account-info {
            margin: 1.5rem 0;
            padding: 1rem;
            background: rgba(159, 138, 119, 0.05);
            border-radius: 10px;
            text-align: center;
        }
        
        .account-name {
            font-weight: bold;
            color: #7d6855;
            margin-bottom: 0.5rem;
        }
        
        .account-number {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 0.5rem;
        }
        
        .copy-btn {
            background: none;
            border: none;
            color: #7d6855;
            cursor: pointer;
            font-size: 1rem;
        }
        
        /* Calendar button in date section */
        .calendar-btn {
            background: #7d6855;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 1rem;
            transition: background 0.3s;
        }
        
        .calendar-btn:hover {
            background: #5a4d41;
        }
    </style>
</head>
<body>
    <!-- Fireflies animation container -->
    <div id="fireflies"></div>

    <!-- Audio Element (Hidden) -->
    <audio id="background-audio" loop>
        <source src="Assets/lagu.mp3" type="audio/mp3">
        Browser anda tidak menyokong elemen audio.
    </audio>

    <!-- Intro dengan animasi pintu -->
    <div id="intro">
        <div class="door door-left"></div>
        <div class="door door-right"></div>
        <div class="intro-text">
            <h1>Undangan Walimatulurus</h1>
        </div>
        <div class="tap-image">
            <img src="Assets/DA sticker.png" alt="Ikon buka" width="70" height="70">
        </div>
    </div>

    <!-- Section gambar depan -->
    <div id="front-image-section" style="display: none;">
        <img src="Assets/DA Front.png" alt="Danial & Adlina" style="width: 100%; height: auto;">
    </div>

    <!-- Scroll indicator -->
    <div class="scroll-indicator" id="scroll-indicator" style="display: none;">
        <i class="fas fa-pause" id="scroll-icon"></i>
    </div>

    <!-- Konten utama -->
    <div id="content">
        <div class="header">
            <div class="greet">
                <p>السَّلَامُ عَلَيْكُمْ وَرَحْمَةُ ٱللَّهِ وَبَرَكاتُهُ</p>
            </div>

            <div class="parents">En. Senon Bin Kani<br>&<br>Pn. Zamna Binti Sujak</div>

            <div class="text-center">
                <p>                                         </p>
                <p>Dengan segala hormatnya kami menjemput</p>
                <p>Dato' | Datin | Tuan | Puan | Encik | Cik</p>
                <p>hadir ke majlis perkahwinan anakanda kami</p>
            </div>

            <div class="names">Muhammad Danial Asyraf bin Senon<br>&<br>Adlina Amirah binti Hassan</div>
            
            <div class="verse">
                "Dan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan untukmu isteri-isteri dari jenismu sendiri, supaya kamu cenderung dan merasa tenteram kepadanya, dan dijadikan-Nya di antaramu rasa kasih dan sayang. Sesungguhnya pada yang demikian itu benar-benar terdapat tanda-tanda bagi kaum yang berfikir." 
                <br>(QS. Ar-Rum: 21)
            </div>
        </div>

        <div class="section">
            <h2><i class="fas fa-map-marker-alt"></i> TEMPAT</h2>
            <p>Kluang Container Hotel</p>
            <p>Lot 10943, Jalan Dua, Taman Bersatu, 86000 Kluang, Johor</p>
        </div>
        

        <div class="section">
            <h2><i class="fas fa-calendar-alt"></i> TARIKH</h2>
            <p>Sabtu, 15 November 2025</p>
            
            <div class="countdown">
                <div class="countdown-title">Countdown</div>
                <div class="countdown-timer">
                    <div class="countdown-unit">
                        <div class="countdown-number" id="days">00</div>
                        <div class="countdown-label">Hari</div>
                    </div>
                    <div class="countdown-unit">
                        <div class="countdown-number" id="hours">00</div>
                        <div class="countdown-label">Jam</div>
                    </div>
                    <div class="countdown-unit">
                        <div class="countdown-number" id="minutes">00</div>
                        <div class="countdown-label">Minit</div>
                    </div>
                    <div class="countdown-unit">
                        <div class="countdown-number" id="seconds">00</div>
                        <div class="countdown-label">Saat</div>
                    </div>
                </div>
            </div>
            
            <!-- Button untuk simpan tarikh -->
            <button class="calendar-btn" onclick="showModal('calendar-modal')">
                <i class="fas fa-calendar-plus"></i> Simpan Tarikh
            </button>
        </div>

        <div class="section">
            <h2><i class="fas fa-clock"></i> WAKTU</h2>
            <p>11:00 pagi - 4:00 petang</p>
        </div>

        <div class="section">
            <h2><i class="fas fa-list-alt"></i> ATUR CARA MAJLIS</h2>
            <div class="info-box">
                <div class="info-title">Kehadiran Tetamu:</div>
                <p>11:00 pagi</p>
            </div>
            <div class="info-box">
                <div class="info-title">Ketibaan Pengantin:</div>
                <p>12:15 tengah hari</p>
            </div>
            <div class="info-box">
                <div class="info-title">Majlis Berakhir:</div>
                <p>4:00 petang</p>
            </div>
        </div>

        <div class="section">
            <h2><i class="fas fa-hands-praying"></i> DOA</h2>
            <p class="text-center">
                Ya Allah Ya Rahman Ya Rahim,<br>
                berkatilah majlis perkahwinan ini.<br>
                Limpahkanlah baraqah dan rahmatMu kepada kedua mempelai ini. Kurniakanlah mereka kelak zuriat yang soleh dan solehah. Kekalkanlah jodoh mereka hingga ke Jannah.
            </p>
        </div>

        <div class="floral-divider">
            <i class="fas fa-leaf"></i> <i class="fas fa-leaf"></i> <i class="fas fa-leaf"></i>
        </div>
        
        <div class="section">
            <h2>Doa & Ucapan</h2>
            <div class="attendance-count">
                <div class="count-box">
                    <div class="count-number" id="hadir-count">0</div>
                    <div>Hadir</div>
                </div>
                <div class="count-box">
                    <div class="count-number" id="tidak-hadir-count">0</div>
                    <div>Tidak Hadir</div>
                </div>
            </div>
            
            <h3>Ucapan dari Tetamu</h3>
            <div class="wishes-container" id="wishes-container">
                <!-- Ucapan akan ditampilkan di sini -->
            </div>
        </div>
    </div>

    <!-- Navigasi Bawah -->
    <div class="nav-bottom">
        <div class="nav-item" onclick="showModal('location-modal')">
            <i class="fas fa-map-marker-alt"></i>
            <span>Lokasi</span>
        </div>
        <div class="nav-item" onclick="showModal('contact-modal')">
            <i class="fas fa-phone"></i>
            <span>Hubungi</span>
        </div>
        <div class="nav-item" onclick="showModal('rsvp-modal')">
            <i class="fas fa-edit"></i>
            <span>RSVP</span>
        </div>
        <div class="nav-item" onclick="showModal('music-modal')">
            <i class="fas fa-music" id="music-icon"></i>
            <span>Muzik</span>
        </div>
        <div class="nav-item" onclick="showModal('gift-modal')">
            <i class="fas fa-gift"></i>
            <span>Hadiah</span>
        </div>
    </div>

    <!-- Modal Lokasi -->
    <div id="location-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('location-modal')">&times;</span>
            <h2>Lokasi Acara</h2>
            <div class="form-group">
                <p><strong>Kluang Container Hotel</strong><br>Lot 10943, Jalan Dua, Taman Bersatu, 86000 Kluang, Johor</p>
            </div>
            <button class="btn" onclick="window.open(' https://waze.com/ul/hw237qzff8')">
                Buka di Waze
            </button>
            <button class="btn" onclick="window.open('https://maps.app.goo.gl/DmjWLYcefcSHoiXg7?g_st=ipc')">
                Buka di Google
            </button>
        </div>
    </div>

    <!-- Modal Kontak -->
    <div id="contact-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('contact-modal')">&times;</span>
            <h2>Hubungi Kami</h2>
            <div class="form-group">
                <p>Sila hubungi kami melalui WhatsApp:</p>
                <ul style="list-style-type: none; margin-top: 1rem;">
                    
                    <li style="margin-bottom: 1rem;">
                        <strong>Suhaila</strong><br>
                        <a href="https://wa.me/60134567890" style="color: #7d6855; text-decoration: none;">
                            <i class="fab fa-whatsapp"></i> +60 12 767 3149
                        </a>
                    </li>
                    <li style="margin-bottom: 1rem;">
                        <strong>Syaza</strong><br>
                        <a href="https://wa.me/60196640883" style="color: #7d6855; text-decoration: none;">
                            <i class="fab fa-whatsapp"></i> +60 19 664 0883
                        </a>
                    </li>
                    <li>
                        <strong>Syamimi</strong><br>
                        <a href="https://wa.me/60177973825" style="color: #7d6855; text-decoration: none;">
                            <i class="fab fa-whatsapp"></i> +60 17 797 3825
                        </a>
                    </li>
                        <li style="margin-bottom: 1rem;">
                        <strong>Amiera</strong><br>
                        <a href="https://wa.me/60107796451" style="color: #7d6855; text-decoration: none;">
                            <i class="fab fa-whatsapp"></i> +60 10 779 6451
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Modal RSVP -->
    <div id="rsvp-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('rsvp-modal')">&times;</span>
            <h2>Kehadiran</h2>
            <div class="form-group">
                <label for="name">Nama Anda</label>
                <input type="text" id="name" placeholder="Masukkan nama penuh">
            </div>
            <div class="form-group">
                <label for="attendance">Kehadiran</label>
                <select id="attendance">
                    <option value="hadir">Akan Hadir</option>
                    <option value="tidak-hadir">Tidak Dapat Hadir</option>
                </select>
            </div>
            <div class="form-group" id="guests-field">
                <label for="guests">Bilangan Tetamu</label>
                <select id="guests">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                </select>
            </div>
            <div class="form-group">
                <label for="wishes">Ucapan & Doa</label>
                <textarea id="wishes" placeholder="Tuliskan ucapan dan doa untuk kami"></textarea>
            </div>
            <button class="btn" onclick="submitRSVP()">Hantar</button>
        </div>
    </div>

    <!-- Modal Kalender -->
    <div id="calendar-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('calendar-modal')">&times;</span>
            <h2>Save the Date</h2>
            <p>Pilih kalendar:</p>
            <div style="display: flex; flex-direction: column; gap: 10px; margin-top: 1rem;">
                <button class="btn" onclick="addToCalendar('google')">Google Calendar</button>
                <button class="btn" onclick="addToCalendar('apple')">Apple Calendar</button>
            </div>
        </div>
    </div>

    <!-- Modal Muzik -->
    <div id="music-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('music-modal')">&times;</span>
            <h2>Muzik</h2>
            
            <div class="audio-player">
                <p>Background Music</p>
                <div class="audio-controls">
                    <button class="audio-btn" onclick="playBackgroundAudio()">Play</button>
                    <button class="audio-btn" onclick="pauseBackgroundAudio()">Pause</button>
                    <button class="audio-btn" onclick="toggleMuteAudio()">
                        <i class="fas fa-volume-up" id="mute-icon"></i>
                    </button>
                </div>
                <div style="margin-top: 10px;">
                    <input type="range" id="volume-slider" min="0" max="1" step="0.1" value="0.5" oninput="changeVolume(this.value)">
                    <div style="font-size: 12px; color: #7d6855;">Volume</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Hadiah (Gift) -->
    <div id="gift-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('gift-modal')">&times;</span>
            <h2><i class="fas fa-gift"></i> Hadiah</h2>
            
            <img src="Assets/qr.png" alt="QR Code" class="qr-code">
            
        </div>
    </div>

    <script>
        // Variabel global untuk data RSVP
        let attendanceData = {
            hadir: 0,
            tidakHadir: 0,
            wishes: []
        };
        
        // Variabel untuk auto-scroll
        let autoScrollInterval;
        let isAutoScrolling = false;
        let scrollSpeed = 30; // pixels per second
        
        // Variabel untuk audio
        const backgroundAudio = document.getElementById('background-audio');
        let isAudioPlaying = false;
        let isAudioMuted = false;

        // Inisialisasi
        document.addEventListener('DOMContentLoaded', function() {
            // Memuat data dari localStorage jika ada
            const savedData = localStorage.getItem('weddingRsvpData');
            if (savedData) {
                attendanceData = JSON.parse(savedData);
                updateAttendanceDisplay();
            }
            
            // Setup event listener untuk intro
            document.getElementById('intro').addEventListener('click', openDoors);
            
            // Setup event listener untuk toggle auto-scroll
            document.getElementById('content').addEventListener('touchstart', toggleAutoScroll);
            document.getElementById('content').addEventListener('click', toggleAutoScroll);
            document.getElementById('scroll-indicator').addEventListener('click', toggleAutoScroll);
            
            // Setup event listener untuk dropdown kehadiran
            document.getElementById('attendance').addEventListener('change', toggleGuestsField);
            
            // Panggil fungsi untuk pertama kali
            toggleGuestsField();
            
            // Mulai countdown
            startCountdown();
            
            // Buat fireflies
            createFireflies();
            
            // Set volume awal
            backgroundAudio.volume = 0.5;
            
            // Coba mainkan audio otomatis setelah interaksi pengguna
            document.addEventListener('click', tryAutoplayAudio, { once: true });
        });
        
        // Fungsi countdown
        function startCountdown() {
            const weddingDate = new Date('November 15, 2025 11:00:00 GMT+0800'); // Waktu Malaysia
            
            function updateCountdown() {
                const now = new Date();
                const diff = weddingDate - now;
                
                if (diff <= 0) {
                    document.getElementById('days').textContent = '00';
                    document.getElementById('hours').textContent = '00';
                    document.getElementById('minutes').textContent = '00';
                    document.getElementById('seconds').textContent = '00';
                    return;
                }
                
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                document.getElementById('days').textContent = days.toString().padStart(2, '0');
                document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
                document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
                document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
            }
            
            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        // Animasi pintu terbuka
        function openDoors() {
            const doorLeft = document.querySelector('.door-left');
            const doorRight = document.querySelector('.door-right');
            const intro = document.getElementById('intro');
            const content = document.getElementById('content');
            const frontImageSection = document.getElementById('front-image-section');
            
            doorLeft.style.transform = 'rotateY(-100deg)';
            doorRight.style.transform = 'rotateY(100deg)';
            
            setTimeout(() => {
                intro.style.display = 'none';
                frontImageSection.style.display = 'block'; // Tampilkan gambar depan
                
                // Tunggu sebentar sebelum menampilkan konten utama
                setTimeout(() => {
                    frontImageSection.style.display = 'none';
                    content.style.display = 'block';
                    
                    // Mulai auto-scroll setelah pintu terbuka
                    setTimeout(startAutoScroll, 1000);
                }, 2000); // Tampilkan gambar depan selama 2 detik
            }, 1500);
        }
        
        // Fungsi untuk memulai auto-scroll
        function startAutoScroll() {
            if (autoScrollInterval) clearInterval(autoScrollInterval);
            
            isAutoScrolling = true;
            document.getElementById('scroll-indicator').style.display = 'flex';
            document.getElementById('scroll-icon').className = 'fas fa-pause';
            
            const content = document.getElementById('content');
            const maxScroll = content.scrollHeight - window.innerHeight + 70; // +70 untuk navigasi bawah
            
            autoScrollInterval = setInterval(() => {
                if (window.scrollY >= maxScroll) {
                    // Jika sudah sampai bawah, berhenti auto-scroll
                    stopAutoScroll();
                    return;
                }
                
                window.scrollBy(0, 1);
            }, 1000 / scrollSpeed); // Atur kecepatan scroll
        }
        
        // Fungsi untuk menghentikan auto-scroll
        function stopAutoScroll() {
            clearInterval(autoScrollInterval);
            isAutoScrolling = false;
            document.getElementById('scroll-icon').className = 'fas fa-play';
        }
        
        // Fungsi untuk toggle auto-scroll
        function toggleAutoScroll() {
            if (isAutoScrolling) {
                stopAutoScroll();
            } else {
                startAutoScroll();
            }
        }
        
        // Modal functions
        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
            // Hentikan auto-scroll saat modal terbuka
            if (isAutoScrolling) stopAutoScroll();
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Toggle field jumlah tetamu berdasarkan pilihan kehadiran
        function toggleGuestsField() {
            const attendance = document.getElementById('attendance').value;
            const guestsField = document.getElementById('guests-field');
            
            if (attendance === 'hadir') {
                guestsField.style.display = 'block';
            } else {
                guestsField.style.display = 'none';
            }
        }
        
        // Fungsi untuk mengontrol audio background
        function tryAutoplayAudio() {
            // Coba mainkan audio setelah interaksi pengguna
            const playPromise = backgroundAudio.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    // Audio berhasil dimainkan
                    isAudioPlaying = true;
                    document.getElementById('music-icon').classList.add('audio-playing');
                }).catch(error => {
                    // Autoplay diblokir oleh browser
                    console.log('Autoplay diblokir: ', error);
                    document.getElementById('music-icon').classList.remove('audio-playing');
                });
            }
        }
        
        function playBackgroundAudio() {
            backgroundAudio.play().then(() => {
                isAudioPlaying = true;
                document.getElementById('music-icon').classList.add('audio-playing');
                closeModal('music-modal');
            }).catch(error => {
                console.log('Gagal memainkan audio: ', error);
            });
        }
        
        function pauseBackgroundAudio() {
            backgroundAudio.pause();
            isAudioPlaying = false;
            document.getElementById('music-icon').classList.remove('audio-playing');
        }
        
        function toggleMuteAudio() {
            if (isAudioMuted) {
                backgroundAudio.muted = false;
                isAudioMuted = false;
                document.getElementById('mute-icon').className = 'fas fa-volume-up';
            } else {
                backgroundAudio.muted = true;
                isAudioMuted = true;
                document.getElementById('mute-icon').className = 'fas fa-volume-mute';
            }
        }
        
        function changeVolume(volume) {
            backgroundAudio.volume = volume;
        }
        
        // Fungsi untuk menambahkan ke kalender
        function addToCalendar(type) {
            alert(`Ditambahkan ke ${type} calendar`);
            closeModal('calendar-modal');
        }
        
        
        
        // Fungsi untuk submit RSVP
        function submitRSVP() {
            const name = document.getElementById('name').value;
            const attendance = document.getElementById('attendance').value;
            const wishes = document.getElementById('wishes').value;
            
            if (!name) {
                alert('Sila masukkan nama anda');
                return;
            }
            
            // Dapatkan jumlah tetamu jika hadir
            let guestsCount = 0;
            if (attendance === 'hadir') {
                guestsCount = parseInt(document.getElementById('guests').value) || 1;
            }
            
            // Update data
            if (attendance === 'hadir') {
                attendanceData.hadir += guestsCount;
           
            } else {
                attendanceData.tidakHadir += 1;
            }
            
            attendanceData.wishes.push({
                name: name,
                wish: wishes,
                attendance: attendance,
                guests: guestsCount
            });
            
            // Simpan ke localStorage
            localStorage.setItem('weddingRsvpData', JSON.stringify(attendanceData));
            
            // Update tampilan
            updateAttendanceDisplay();
            
            // Reset form
            document.getElementById('name').value = '';
            document.getElementById('wishes').value = '';
            
            // Tampilkan kembali field tetamu
            toggleGuestsField();
            
            // Tutup modal
            closeModal('rsvp-modal');
            
            alert('Terima kasih!');
        }
        
        // Update tampilan data kehadiran dan ucapan
        function updateAttendanceDisplay() {
            document.getElementById('hadir-count').textContent = attendanceData.hadir;
            document.getElementById('tidak-hadir-count').textContent = attendanceData.tidakHadir;
            
            const wishesContainer = document.getElementById('wishes-container');
            wishesContainer.innerHTML = '';
            
            attendanceData.wishes.forEach(wish => {
                const wishElement = document.createElement('div');
                wishElement.className = 'wish-item';
                
                let attendanceText = '';
                if (wish.attendance === 'hadir') {
                    attendanceText = ` (${wish.guests} hadir)`;
                } else {
                    attendanceText = ' (Tidak hadir)';
                }
                
                wishElement.innerHTML = `
                    <div>"${wish.wish || 'tiada ucapan'}"</div>
                    <div class="wish-name">- ${wish.name}${attendanceText}</div>
                `;
                wishesContainer.appendChild(wishElement);
            });
        }
        
        // Fungsi untuk membuat fireflies animation
        function createFireflies() {
            const container = document.getElementById('fireflies');
            const numFireflies = 15;
            
            for (let i = 0; i < numFireflies; i++) {
                const firefly = document.createElement('div');
                firefly.className = 'firefly';
                
                // Posisi acak
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                
                // Waktu animasi acak
                const animDuration = 4 + Math.random() * 6;
                const animDelay = Math.random() * 5;
                
                // Atur posisi dan animasi
                firefly.style.left = `${posX}%`;
                firefly.style.top = `${posY}%`;
                firefly.style.animation = `
                    fadeInOut ${animDuration}s infinite ease-in-out ${animDelay}s,
                    moveFirefly ${animDuration * 2}s infinite alternate ease-in-out ${animDelay}s
                `;
                
                container.appendChild(firefly);
            }
        }
        
        // Close modal ketika klik di luar konten modal
        window.onclick = function(event) {
            const modals = document.getElementsByClassName('modal');
            for (let i = 0; i < modals.length; i++) {
                if (event.target == modals[i]) {
                    modals[i].style.display = "none";
                }
            }
        }
    </script>
</body>

</html>
